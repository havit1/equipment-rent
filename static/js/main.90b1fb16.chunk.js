(this["webpackJsonpequipment-rent"]=this["webpackJsonpequipment-rent"]||[]).push([[0],{217:function(e){e.exports=JSON.parse('[{"name":"Camera 1","id":"1","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 2","id":"2","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 3","id":"3","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 4","id":"4","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 5","id":"5","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 6","id":"6","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 7","id":"7","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 1","id":"8","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 2","id":"9","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 3","id":"10","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 4","id":"11","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 5","id":"12","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 2","id":"13","category":"lights","price":"99","offer":"BOGOF","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 3","id":"14","category":"microphones","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 4","id":"15","category":"cameras","price":"99","offer":"No srsly GTFO","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 5","id":"16","category":"lights","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 6","id":"17","category":"lights","price":"99","description":"This is the latest and greatest product from Derp corp.","offer":"description with offer","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"}]')},221:function(e,t,a){e.exports=a(428)},230:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},390:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a(5),i=(a(230),function(e){var t=Object(o.c)((function(e){return e.firebase.auth.uid})),a=Object(o.c)((function(e){return e.firebase.profile}));return n.a.createElement("nav",{className:"navbar"},n.a.createElement("ul",{className:"navbar__links"},n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",exact:!0,to:"/"},"Home")),n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/saved-products"},"Bookmarked items")),n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/item-configuration"},"Add new item")),t?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/logout"},"Logout")),a.initials?n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/profile"},a.initials)):null):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/login"},"Login")),n.a.createElement("li",{className:"navbar__links-link"},n.a.createElement(c.c,{activeClassName:"activeNavLink",to:"/register"},"Register")))))}),s=a(35),l=a(6),u=a(11),m=a(8),d=a(7),p=a(9),h=a(19),b=(a(379),function(){Object(h.useFirestoreConnect)("categories");var e=Object(o.c)((function(e){return e.firestore}));return n.a.createElement("section",{className:"catalogue-wrapper"},e.status.requesting.categories?n.a.createElement("h2",{className:"spinner"},"Loading"):e.errors.byQuery.length>0?n.a.createElement("h2",{className:"error"},e.error):n.a.createElement("div",{className:"catalogue"},n.a.createElement("ol",{className:"catalogue__elements"},e.ordered.categories&&e.ordered.categories.map((function(e){return n.a.createElement("li",{className:"catalogue__elements-element",key:e.id},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement(c.b,{to:"/".concat(e.categoryName.toLowerCase(),"/").concat(e.id)},n.a.createElement("div",{className:"catalogue__elements-element-image ".concat(e.categoryName)},n.a.createElement("h1",{className:"catalogue__elements-element-text"},e.categoryName.toUpperCase()))))})))))}),g=(a(380),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return document.title="Home",n.a.createElement("div",{className:"home-page"},n.a.createElement(b,null))}}]),t}(r.Component)),E=a(18),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderCard=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return n.a.createElement(c.b,{to:"/".concat(t,"/").concat(a,"/").concat(e.id),className:"".concat(o)},r?n.a.createElement("img",{src:"",alt:"Something cool"}):null,n.a.createElement("div",null,n.a.createElement("h3",null,e.name),n.a.createElement("p",null,e.description)))},a}return Object(p.a)(t,e),t}(r.Component),v=(a(381),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;document.title="List of products";var t=this.props,a=t.productsList,r=t.match;return n.a.createElement("section",{className:"product-list ".concat(r.params.categoryName)},n.a.createElement("ul",{className:"product-list__items"},a&&a.map((function(t){return n.a.createElement("li",{className:"product-list__items-item",key:t.id},e.renderCard(t,r.params.categoryName,r.params.categoryId,!0,"product-card"))}))))}}]),t}(f)),y=Object(E.compose)(Object(h.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items")}]})),Object(o.b)((function(e,t){return{productsList:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")]}})))(v),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return document.title="Error",n.a.createElement("h1",null,"Error 404")}}]),t}(r.Component),C=a(4),O=function(e){return function(t,a,r){r.getFirebase;(0,r.getFirestore)().collection("categories/".concat(e.category.id,"/items")).doc("".concat(e.id)).delete().then((function(){})).catch((function(e){}))}},w=(a(382),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){document.title="Product page";var e=this.props,t=e.product,a=e.match,r=e.handleSave,o=e.uid,i=e.handleRemoveItem,s=t?t.find((function(e){return e.id===a.params.productId})):null;return n.a.createElement("section",{className:"product-page"},s&&n.a.createElement("div",{className:"product-page__wrapper"},n.a.createElement("div",{className:"product-page__image"},"Cool image"),n.a.createElement("div",{className:"product-page__info"},n.a.createElement("h1",{className:"product-page__info-name"},s.name),o===s.ownerId?n.a.createElement("div",{className:"product-page__owner-options"},n.a.createElement(c.b,{className:"product-page__link",to:"/item-configuration"},n.a.createElement("button",{className:"product-page__button"},"Edit")),n.a.createElement(c.b,{className:"product-page__link",to:"/"},n.a.createElement("button",{className:"product-page__button",onClick:function(){i(s)}},"Remove this product"))):null,n.a.createElement("h3",{className:"product-page__info-price"},s.price,"$"),n.a.createElement("p",{className:"product-page__info-description"},s.description),n.a.createElement("div",{className:"product-page__owner"},n.a.createElement("h3",{className:"product-page__owner-name"},"Owner: ",s.ownerFirstName," ",s.ownerLastName),n.a.createElement("h3",{className:"product-page__owner-email"},"Email: ",s.ownerEmailAddress),n.a.createElement("h3",{className:"product-page__owner-number"},"Phone Number: ",s.ownerPhoneNumber)),n.a.createElement("button",{onClick:function(){return r(s)},className:"product-page__button"},"Bookmark this product"))))}}]),t}(r.Component)),N=Object(E.compose)(Object(h.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items")}]})),Object(o.b)((function(e,t){return{product:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")],uid:e.firebase.auth.uid}}),(function(e){return{handleSave:function(t){var a;e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_SAVE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a.id).set(Object(C.a)({},a,{createdAt:new Date})).then((function(){e({type:"FETCH_SAVE_ITEM_SUCCESS"})})).catch((function(t){return e(function(e){return{type:"FETCH_SAVE_ITEM_FAILURE",payload:e}}(t))}))}))},handleRemoveItem:function(t){return e(O(t))}}})))(w),S=(a(383),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.title="Bookmarked items",this.props.onLoadSavedItems()}},{key:"render",value:function(){var e=this,t=this.props.savedItems;return n.a.createElement("section",{className:"shopping-cart"},n.a.createElement("ul",{className:"shopping-cart__items"},t.items.length&&t.items.map((function(t){return n.a.createElement("li",{key:t.id,className:"shopping-cart__items-item"},n.a.createElement("button",{className:"shopping-cart__items-item-delete-button",onClick:function(){return e.props.onDeleteItem(t.id)}},"Delete"),e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"))}))))}}]),t}(f)),j=Object(o.b)((function(e,t){return{savedItems:e.savedItems}}),(function(e){return{onLoadSavedItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))},onDeleteItem:function(t){return e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_DELETE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a).delete().then((function(){e({type:"FETCH_DELETE_ITEM_SUCCESS"}),e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))})).catch((function(t){e(function(e){return{type:"FETCH_DELETE_ITEM_FAILURE",payload:e}}(t))}))}));var a}}}))(S),I=a(217),k=(a(384),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.prevSearch=this.props.submittedSearchString;var t=I.filter((function(t){return t.name.toUpperCase().indexOf((e.props.submittedSearchString||e.props.location.pathname.split("/").pop()).toUpperCase())>-1}));this.props.getSearchedProducts(t)}},{key:"componentDidUpdate",value:function(){this.prevSearch!==this.props.submittedSearchString&&this.componentDidMount()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"search-page"},0===this.props.items.length?n.a.createElement("h1",{className:"search-page__no-items-error"},"'",this.props.submittedSearchString,"' doesn't exist here. I'm sorry..."):this.props.items.map((function(t){return n.a.createElement("div",{key:t.key,className:"item-card"},e.renderCard(t,!0,!0,"search-page__element"))})))}}]),t}(f)),F=Object(o.b)((function(e){return e.search}),(function(e){return{getSearchedProducts:function(t){e({type:"ON_LOAD_SEARCHED_ITEMS",payload:t})}}}))(k),T=a(23),L=a.n(T),A=a(31),R=a(34),D=function(e){var t=e.name,a=e.label,r=e.error,c=Object(R.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("input",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},U=function(e){var t=e.name,a=e.label,r=e.options,c=e.error,o=Object(R.a)(e,["name","label","options","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("select",Object.assign({name:t,id:t},o,{className:"form-control"}),n.a.createElement("option",{value:""}),r.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.categoryName)}))),c&&n.a.createElement("div",{className:"alert alert-danger"},c))},P=function(e){var t=e.name,a=e.label,r=e.error,c=Object(R.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("textarea",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={data:{},errors:{}},a.validate=function(){var e=L.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},r=!0,n=!1,c=void 0;try{for(var o,i=e.details[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;t[s.path[0]]=s.message}}catch(l){n=!0,c=l}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return t},a.validateProperty=function(e){var t=e.name,r=e.value,n=Object(A.a)({},t,r),c=Object(A.a)({},t,a.schema[t]),o=L.a.validate(n,c).error;return o?o.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.onSubmit()},a.handleChange=function(e){var t=e.currentTarget,r=Object(C.a)({},a.state.errors),n=a.validateProperty(t);n?r[t.name]=n:delete r[t.name];var c=Object(C.a)({},a.state.data);c[t.name]=t.value,a.setState({data:c,errors:r})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderButton",value:function(e,t){return n.a.createElement("button",{disabled:this.validate(),className:t},this.validate()?"Please, add more info":"".concat(e))}},{key:"renderSelect",value:function(e,t,a){var r=this.state,c=r.data,o=r.errors;return n.a.createElement(U,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:o[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,c=r.data,o=r.errors;return n.a.createElement(D,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}},{key:"renderTextarea",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,c=r.data,o=r.errors;return n.a.createElement(P,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}}]),t}(r.Component),M=(a(385),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={data:{name:"",category:{},price:"",ownerPhoneNumber:"",ownerEmailAddress:"",description:"",youtubeLink:""},buttonInfo:{class:"btn btn-primary",text:"Save"},errors:{}},a.schema={name:L.a.string().required().label("Name"),category:L.a.string().required().label("Category"),price:L.a.number().required().label("Price"),description:L.a.label("Description"),id:L.a.label("Id"),youtubeLink:L.a.string().label("Youtube Link"),ownerPhoneNumber:L.a.number().required().label("Phone number"),ownerEmailAddress:L.a.string().email().required().label("Email address")},a.onSubmit=function(){var e=Object(C.a)({},a.state.data),t=a.state.data.category,r=a.props.categories.find((function(e){return t===e.id}));e.category=r,a.setState({data:e},(function(){a.props.handleAddNewItem(a.state.data),a.props.history.push("/")}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){document.title="Item configuration";var e=this.props.categories;return e?n.a.createElement("section",{className:"item-config-page"},n.a.createElement("div",{className:"item-config-page__form-wrapper"},n.a.createElement("form",{className:"item-config-page__form",onSubmit:this.handleSubmit},this.renderInput("name","Name"),this.renderInput("price","Price"),this.renderSelect("category","Category",e),this.renderInput("ownerPhoneNumber","Phone number"),this.renderInput("ownerEmailAddress","Email address"),this.renderInput("youtubeLink","Youtube Link"),this.renderTextarea("description","Description"),this.renderButton(this.state.buttonInfo.text,this.state.buttonInfo.class)))):n.a.createElement("h1",null,"LOADING")}}]),t}(x)),H=Object(E.compose)(Object(o.b)((function(e){return{categories:e.firestore.ordered.categories}}),(function(e){return{handleAddNewItem:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),c=a().firebase.profile,o=a().firebase.auth.uid;n.collection("categories/".concat(e.category.id,"/items")).add(Object(C.a)({},e,{ownerFirstName:c.firstName,ownerLastName:c.lastName,ownerId:o,createdAt:new Date})).then((function(){dispatchEvent({type:"ADD_NEW_PRODUCT",payload:e})})).catch((function(e){t({type:"ADD_NEW_PRODUCT_ERROR",payload:e})}))}}(t))}}})),Object(h.firestoreConnect)((function(){return[{collection:"categories"}]})))(M),W=(a(386),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){document.title="Login";var e=this.props,t=e.authError;return e.uid?n.a.createElement(s.a,{to:"/"}):n.a.createElement("section",{className:"login-page"},n.a.createElement("div",{className:"login-page__form-wrapper"},n.a.createElement("form",{className:"login-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Login"),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Login"),n.a.createElement("h3",null,t?n.a.createElement("h1",{className:"alert"},t.message):null))),n.a.createElement("div",{className:"login-page__image"}),">")}}]),t}(r.Component)),G=Object(o.b)((function(e){return{authError:e.auth.authError,uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_FAILURE",payload:t})}))}));var a}}}))(W),Y=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(r.Component),K=Object(o.b)(null,(function(e){return{onLogout:function(){e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))(Y),V=function(e){e.path;var t=e.component,a=e.render,r=Object(R.a)(e,["path","component","render"]),c=Object(o.c)((function(e){return e.firebase.auth}));return n.a.createElement(s.b,Object.assign({},r,{render:function(e){return c.uid?t?n.a.createElement(t,e):a(e):n.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},q=(a(387),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){document.title="Register";var e=this.props,t=e.uid,a=e.authError;return t?n.a.createElement(s.a,{to:"/"}):n.a.createElement("section",{className:"register-page"},n.a.createElement("div",{className:"register-page__form-wrapper"},n.a.createElement("form",{className:"register-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Register"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{onChange:this.handleChange,type:"firstName",id:"firstName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{onChange:this.handleChange,type:"lastName",id:"lastName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Register"),a&&n.a.createElement("p",{className:"alert"},a.message))),n.a.createElement("div",{className:"register-page__image"}))}}]),t}(r.Component)),B=Object(o.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth,uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,c=r.getFirestore,o=n(),i=c();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],savedProducts:{}})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",payload:e})}))}}(t))}}}))(q),Q=(a(388),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.title="Your account",this.props.getUserItems()}},{key:"render",value:function(){var e=this,t=this.props,a=t.userItems,r=t.handleRemoveItem;return n.a.createElement("section",{className:"user-profile"},n.a.createElement("ul",{className:"user-profile__items"},a.items&&a.items.map((function(t){return n.a.createElement("li",{className:"user-profile__items-item",key:t.id},e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"),n.a.createElement("button",{className:"user-profile__items-item-button",onClick:function(){r(t)}},"Remove this product"))}))))}}]),t}(f)),J=Object(o.b)((function(e){return{userItems:e.userInfo}}),(function(e){return{getUserItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_PROFILE_INFO_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collectionGroup("items").where("ownerId","==",c).onSnapshot((function(t){var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e({type:"FETCH_PROFILE_INFO_SUCCESS",payload:a})}))}))},handleRemoveItem:function(t){return e(O(t))}}}))(Q),z=(a(389),a(390),Object(s.g)((function(e){return n.a.createElement("div",{className:"page-container"},n.a.createElement("header",{className:"header"},n.a.createElement(i,{history:e})),n.a.createElement("main",null,n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/login",exact:!0,component:G}),n.a.createElement(s.b,{path:"/register",exact:!0,component:B}),n.a.createElement(V,{path:"/logout",exact:!0,component:K}),n.a.createElement(V,{path:"/profile",exact:!0,component:J}),n.a.createElement(V,{path:"/item-configuration",component:H}),n.a.createElement(V,{path:"/saved-products",exact:!0,component:j}),n.a.createElement(s.b,{path:"/search/:name",component:F}),n.a.createElement(s.b,{path:"/:categoryName/:categoryId/:productId",component:N}),n.a.createElement(s.b,{path:"/:categoryName/:categoryId",component:y}),n.a.createElement(s.b,{path:"/",exact:!0,component:g}),n.a.createElement(s.b,{path:"/404",component:_}),n.a.createElement(s.a,{to:"/404"})),n.a.createElement("footer",null,"\xa9 Copyright 2020")))}))),Z=a(33),$=a.n(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(218),ee=a(219),te=a(53),ae=a(141),re=a.n(ae);a(422),a(425);re.a.initializeApp({apiKey:"AIzaSyC-IaPCfvhov6-VPZhMxZJNBexahlnHCsA",authDomain:"equipment-rental-71653.firebaseapp.com",databaseURL:"https://equipment-rental-71653.firebaseio.com",projectId:"equipment-rental-71653",storageBucket:"equipment-rental-71653.appspot.com",messagingSenderId:"983654536579",appId:"1:983654536579:web:f6858ededf6c4d4efd12b6"});var ne=re.a,ce=a(220),oe={err:"",loading:!1};var ie={searchedString:"",submittedSearchString:"",items:[]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.searchedString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_UPDATE_SEARCH_STRING":return ie.searchedString=t.payload;default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.submittedSearchString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_SUBMIT_SEARCH":return ie.submittedSearchString=t.payload;default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.items,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_LOAD_SEARCHED_ITEMS":return ie.items=t.payload;default:return e}};var me={authError:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILURE":return Object(C.a)({},e,{authError:t.payload});case"LOGIN_SUCCESS":return Object(C.a)({},e,{authError:""});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(C.a)({},e,{authError:""});case"SIGNUP_ERROR":return Object(C.a)({},e,{authError:t.payload});default:return e}},pe={product:{},error:""},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_PRODUCT":return Object(C.a)({},e,{error:""});case"ADD_NEW_PRODUCT_ERROR":return Object(C.a)({},e,{error:t.payload});default:return e}},be={err:"",loading:!1,items:[]};var ge={err:"",loading:!1,items:[]};var Ee=Object(E.combineReducers)({saveProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVE_ITEM_REQUEST":return Object(C.a)({},e,{loading:!0});case"FETCH_SAVE_ITEM_SUCCESS":return Object(C.a)({},e,{loading:!1});case"FETCH_SAVE_ITEM_FAILURE":return Object(C.a)({},e,{loading:!1,err:t.payload});default:return e}},auth:de,search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return{searchedString:se(ie.searchedString,e),items:ue(ie.items,e),submittedSearchString:le(ie.submittedSearchString,e)}},firestore:te.firestoreReducer,firebase:h.firebaseReducer,addNewProductReducer:he,savedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVED_ITEMS_REQUEST":return Object(C.a)({},e,{loading:!0});case"FETCH_SAVED_ITEMS_SUCCESS":return Object(C.a)({},e,{loading:!1,items:t.payload});case"FETCH_SAVED_ITEMS_FAILURE":return Object(C.a)({},e,{loading:!1,err:t.payload});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_INFO_REQUEST":return Object(C.a)({},e,{loading:!0});case"FETCH_PROFILE_INFO_SUCCESS":return Object(C.a)({},e,{loading:!1,items:t.payload});case"FETCH_PROFILE_INFO_FAILURE":return Object(C.a)({},e,{loading:!1,err:t.payload});default:return e}}}),fe=(a(427),[ee.a.withExtraArgument({getFirebase:h.getFirebase,getFirestore:te.getFirestore})]),ve=Object(E.createStore)(Ee,Object(X.composeWithDevTools)(E.applyMiddleware.apply(void 0,fe),Object(te.reduxFirestore)(ne))),ye={firebase:ne,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:ve.dispatch,createFirestoreInstance:te.createFirestoreInstance};$.a.render(n.a.createElement(o.a,{store:ve},n.a.createElement(h.ReactReduxFirebaseProvider,ye,n.a.createElement((function(e){var t=e.children,a=Object(o.c)((function(e){return e.firebase.auth}));return Object(h.isLoaded)(a)?t:null}),null,n.a.createElement(c.a,{basename:"/equipment-rent/"},n.a.createElement(ce.a,null),n.a.createElement(z,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.90b1fb16.chunk.js.map