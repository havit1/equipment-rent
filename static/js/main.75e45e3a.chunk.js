(this["webpackJsonpequipment-rent"]=this["webpackJsonpequipment-rent"]||[]).push([[0],{215:function(e){e.exports=JSON.parse('[{"name":"Camera 1","id":"1","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 2","id":"2","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 3","id":"3","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 4","id":"4","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 5","id":"5","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 6","id":"6","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 7","id":"7","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 1","id":"8","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 2","id":"9","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 3","id":"10","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 4","id":"11","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 5","id":"12","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 2","id":"13","category":"lights","price":"99","offer":"BOGOF","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 3","id":"14","category":"microphones","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 4","id":"15","category":"cameras","price":"99","offer":"No srsly GTFO","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 5","id":"16","category":"lights","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 6","id":"17","category":"lights","price":"99","description":"This is the latest and greatest product from Derp corp.","offer":"description with offer","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"}]')},222:function(e,t,a){e.exports=a(432)},231:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},398:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a(221),i=a(12),l=a(5),s=(a(231),function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],u=Object(l.c)((function(e){return e.firebase.auth.uid})),m=Object(l.c)((function(e){return e.firebase.profile})),d=function(){s(!c)},p=function(e){return c?"".concat(e," open"):"".concat(e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onClick:d,className:"navbar-btn"},n.a.createElement("span",{className:p("navbar-btn__burger")})),n.a.createElement("nav",{className:p("navbar")},n.a.createElement("ul",{onClick:d,className:p("navbar__links")},n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",exact:!0,to:"/"},"Home")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/saved-products"},"Bookmarked items")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/item-configuration"},"Add new item")),u?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/logout"},"Logout")),m.initials?n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/profile"},m.initials)):null):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/login"},"Login")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(i.c,{activeClassName:"activeNavLink",to:"/register"},"Register"))))))}),u=a(6),m=a(10),d=a(8),p=a(7),h=a(19),g=(a(380),function(){return n.a.createElement("span",{className:"loader-wrapper"},n.a.createElement("div",{className:"lds-spinner"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))}),b=(a(381),function(){Object(h.useFirestoreConnect)("categories");var e=Object(l.c)((function(e){return e.firestore}));return n.a.createElement("section",{className:"catalogue-wrapper"},e.status.requesting.categories?n.a.createElement(g,null):e.errors.byQuery.length>0?n.a.createElement("h2",{className:"error"},e.error):n.a.createElement("div",{className:"catalogue"},n.a.createElement("ol",{className:"catalogue__elements"},e.ordered.categories&&e.ordered.categories.map((function(e){return n.a.createElement("li",{className:"catalogue__elements-element",key:e.id},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement(i.b,{to:"/".concat(e.categoryName.toLowerCase(),"/").concat(e.id)},n.a.createElement("div",{className:"catalogue__elements-element-image ".concat(e.categoryName)},n.a.createElement("h1",{className:"catalogue__elements-element-text"},e.categoryName.toUpperCase()))))})))))}),E=(a(382),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return document.title="Home",n.a.createElement("div",{className:"home-page home-page-background"},n.a.createElement(b,null))}}]),a}(r.Component)),f=a(18),v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).renderCard=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0;return n.a.createElement(i.b,{to:"/".concat(t,"/").concat(a,"/").concat(e.id),className:"".concat(c)},r?n.a.createElement("img",{src:e.displayImageUrl,alt:"Something cool"}):null,n.a.createElement("div",null,n.a.createElement("h3",null,e.name),n.a.createElement("p",null,e.description)))},e}return a}(r.Component),y=(a(383),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;document.title="List of products";var t=this.props,a=t.productsList,r=t.match;return n.a.createElement("section",{className:"product-list ".concat(r.params.categoryName)},n.a.createElement("ul",{className:"product-list__items"},a&&a.map((function(t){return n.a.createElement("li",{className:"product-list__items-item",key:t.id},e.renderCard(t,r.params.categoryName,r.params.categoryId,!0,"product-card"))}))))}}]),a}(v)),_=Object(f.compose)(Object(h.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items")}]})),Object(l.b)((function(e,t){return{productsList:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")]}})))(y),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return document.title="Error",n.a.createElement("h1",null,"Error 404")}}]),a}(r.Component),w=a(2),O=function(e){return function(t,a,r){r.getFirebase;(0,r.getFirestore)().collection("categories/".concat(e.category.id,"/items")).doc("".concat(e.id)).delete().then((function(){})).catch((function(e){}))}},N=(a(384),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){document.title="Product page";var e=this.props,t=e.product,a=e.handleSave,r=e.uid,c=e.handleRemoveItem;return n.a.createElement("section",{className:"product-page"},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"product-page__background-image ".concat(t[0].category.categoryName)}),n.a.createElement("div",{className:"product-page__wrapper"},n.a.createElement("div",{className:"product-page__image-wrapper"},n.a.createElement("img",{className:"product-page__image",alt:"Product",src:"".concat(t[0].displayImageUrl)})),n.a.createElement("div",{className:"product-page__info"},n.a.createElement("h1",{className:"product-page__info-name"},t[0].name),r===t[0].ownerId?n.a.createElement("div",{className:"product-page__owner-options"},n.a.createElement(i.b,{className:"product-page__link",to:"/item-configuration"},n.a.createElement("button",{className:"product-page__button",disabled:!0},"Edit")),n.a.createElement(i.b,{className:"product-page__link",to:"/"},n.a.createElement("button",{className:"product-page__button",onClick:function(){c(t[0])}},"Remove this product"))):null,n.a.createElement("h3",{className:"product-page__info-price"},"Price (for a one day): ",t[0].price,"$"),n.a.createElement("p",{className:"product-page__info-description"},t[0].description),n.a.createElement("div",{className:"product-page__owner"},n.a.createElement("h3",{className:"product-page__owner-name"},"Owner: ",t[0].ownerFirstName," ",t[0].ownerLastName),n.a.createElement("h3",{className:"product-page__owner-email"},"Email: ",t[0].ownerEmailAddress),n.a.createElement("h3",{className:"product-page__owner-number"},"Phone Number: ",t[0].ownerPhoneNumber)),t[0].youtubeLink&&n.a.createElement("iframe",{title:"youtubeVideo",width:"560",height:"315",src:"//www.youtube.com/embed/".concat(t[0].youtubeLink),frameBorder:"0",allowFullScreen:!0}),n.a.createElement("button",{onClick:function(){return a(t[0])},className:"product-page__button"},"Bookmark this product")))))}}]),a}(r.Component)),S=Object(f.compose)(Object(h.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items"),doc:"".concat(e.match.params.productId)}]})),Object(l.b)((function(e,t){return{product:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")],uid:e.firebase.auth.uid}}),(function(e){return{handleSave:function(t){var a;e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_SAVE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a.id).set(Object(w.a)(Object(w.a)({},a),{},{createdAt:new Date})).then((function(){e({type:"FETCH_SAVE_ITEM_SUCCESS"})})).catch((function(t){return e(function(e){return{type:"FETCH_SAVE_ITEM_FAILURE",payload:e}}(t))}))}))},handleRemoveItem:function(t){return e(O(t))}}})))(N),j=(a(385),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.title="Bookmarked items",this.props.onLoadSavedItems()}},{key:"render",value:function(){var e=this,t=this.props.savedItems;return n.a.createElement("section",{className:"shopping-cart home-page-background"},n.a.createElement("ul",{className:"shopping-cart__items"},t.items.length>0&&t.items.map((function(t){return n.a.createElement("li",{key:t.id,className:"shopping-cart__items-item"},n.a.createElement("button",{className:"shopping-cart__items-item-delete-button",onClick:function(){return e.props.onDeleteItem(t.id)}}),e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"))}))))}}]),a}(v)),I=Object(l.b)((function(e,t){return{savedItems:e.savedItems}}),(function(e){return{onLoadSavedItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))},onDeleteItem:function(t){return e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_DELETE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a).delete().then((function(){e({type:"FETCH_DELETE_ITEM_SUCCESS"}),e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))})).catch((function(t){e(function(e){return{type:"FETCH_DELETE_ITEM_FAILURE",payload:e}}(t))}))}));var a}}}))(j),k=a(215),F=(a(386),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.prevSearch=this.props.submittedSearchString;var t=k.filter((function(t){return t.name.toUpperCase().indexOf((e.props.submittedSearchString||e.props.location.pathname.split("/").pop()).toUpperCase())>-1}));this.props.getSearchedProducts(t)}},{key:"componentDidUpdate",value:function(){this.prevSearch!==this.props.submittedSearchString&&this.componentDidMount()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"search-page"},0===this.props.items.length?n.a.createElement("h1",{className:"search-page__no-items-error"},"'",this.props.submittedSearchString,"' doesn't exist here. I'm sorry..."):this.props.items.map((function(t){return n.a.createElement("div",{key:t.key,className:"item-card"},e.renderCard(t,!0,!0,"search-page__element"))})))}}]),a}(v)),T=Object(l.b)((function(e){return e.search}),(function(e){return{getSearchedProducts:function(t){e({type:"ON_LOAD_SEARCHED_ITEMS",payload:t})}}}))(F),L=a(23),A=a.n(L),R=a(142),U=a.n(R),D=a(216),P=a(92),x=a.n(P);a(388),a(391),a(433);x.a.initializeApp({apiKey:"AIzaSyC-IaPCfvhov6-VPZhMxZJNBexahlnHCsA",authDomain:"equipment-rental-71653.firebaseapp.com",databaseURL:"https://equipment-rental-71653.firebaseio.com",projectId:"equipment-rental-71653",storageBucket:"equipment-rental-71653.appspot.com",messagingSenderId:"983654536579",appId:"1:983654536579:web:f6858ededf6c4d4efd12b6"});var M=x.a.storage().ref(),H=x.a;var W=a(33),G=a(217),Y=a(28),K=function(e){var t=e.name,a=e.label,r=e.error,c=Object(Y.a)(e,["name","label","error"]);return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:t},a),n.a.createElement("input",Object.assign({},c,{name:t,id:t})),r&&n.a.createElement("div",null,r))},V=function(e){var t=e.name,a=e.label,r=e.options,c=e.error,o=Object(Y.a)(e,["name","label","options","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("select",Object.assign({name:t,id:t},o,{className:"form-control"}),n.a.createElement("option",{value:""}),r.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.categoryName)}))),c&&n.a.createElement("div",{className:"alert alert-danger"},c))},q=function(e){var t=e.name,a=e.label,r=e.error,c=Object(Y.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("textarea",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},B=function(e){var t=e.name,a=e.label,r=e.error,c=Object(Y.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("input",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{},errors:{}},e.validate=function(){var t=A.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,r={},n=Object(G.a)(t.details);try{for(n.s();!(a=n.n()).done;){var c=a.value;r[c.path[0]]=c.message}}catch(o){n.e(o)}finally{n.f()}return r},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(W.a)({},a,r),c=Object(W.a)({},a,e.schema[a]),o=A.a.validate(n,c).error;return o?o.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.onSubmit()},e.handleImageChange=function(t){var a=new FileReader,r=t.target.files[0],n=Object(w.a)({},e.state.data);n.image=r,a.onloadend=function(){e.setState((function(e){return{errors:e.errors,data:n}}))},a.readAsDataURL(r)},e.handleChange=function(t){var a=t.currentTarget,r=Object(w.a)({},e.state.errors),n=e.validateProperty(a);n?r[a.name]=n:delete r[a.name];var c=Object(w.a)({},e.state.data);c[a.name]=a.value,e.setState({data:c,errors:r})},e}return Object(m.a)(a,[{key:"renderButton",value:function(e,t){return n.a.createElement("button",{className:t},"".concat(e))}},{key:"renderSelect",value:function(e,t,a){var r=this.state,c=r.data,o=r.errors;return n.a.createElement(V,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:o[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,c=r.data,o=r.errors;return n.a.createElement(K,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}},{key:"renderTextarea",value:function(e,t){var a=this.state,r=a.data,c=a.errors;return n.a.createElement(q,{name:e,value:r[e],label:t,onChange:this.handleChange,error:c[e]})}},{key:"renderFileField",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file",r=this.state.errors;return n.a.createElement(B,{type:a,name:e,label:t,onChange:this.handleImageChange,error:r[e]})}}]),a}(r.Component),J=(a(393),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{name:"",category:{},price:"",ownerPhoneNumber:"",ownerEmailAddress:"",description:"",youtubeLink:"",image:{}},errors:{}},e.schema={name:A.a.string().required().label("Name"),category:A.a.string().required().label("Category").error((function(){return{message:"Please choose a cetegory"}})),price:A.a.number().required().label("Price"),description:A.a.label("Description"),id:A.a.label("Id"),youtubeLink:A.a.string().required(!1).regex(/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/).label("Youtube Link").error((function(){return{message:"Please use vaild Youtube link"}})),ownerPhoneNumber:A.a.number().required().label("Phone number"),ownerEmailAddress:A.a.string().email().required().label("Email address"),image:A.a.any()},e.onSubmit=function(){var t=Object(w.a)({},e.state.data),a=e.state.data.category,r=e.props.categories.find((function(e){return a===e.id}));t.category=r,e.setState({data:t},(function(){e.props.handleAddNewItem(e.state.data),e.props.history.push("/")}))},e}return Object(m.a)(a,[{key:"render",value:function(){document.title="Item configuration";var e=this.props.categories;return n.a.createElement("section",{className:"item-config-page home-page-background"},e?n.a.createElement("div",{className:"item-config-page__form-wrapper"},n.a.createElement("form",{className:"item-config-page__form",onSubmit:this.handleSubmit},this.renderInput("name","Name"),this.renderInput("price","Price"),this.renderSelect("category","Category",e),this.renderInput("ownerPhoneNumber","Phone number"),this.renderInput("ownerEmailAddress","Email address"),this.renderInput("youtubeLink","Youtube Link"),this.renderTextarea("description","Description"),this.renderFileField("image","Image"),this.renderButton("Save","item-config-page__form-button"))):n.a.createElement(g,null))}}]),a}(Q)),z=Object(f.compose)(Object(l.b)((function(e){return{categories:e.firestore.ordered.categories}}),(function(e){return{handleAddNewItem:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),c=a().firebase.profile,o=a().firebase.auth.uid;e.youtubeLink=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}(e.youtubeLink),M.child("images/".concat(o,"_").concat((new Date).getTime())).put(e.image).then(function(){var a=Object(D.a)(U.a.mark((function a(r){var i;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.ref.getDownloadURL();case 2:i=a.sent,console.log(i),e.image=r.metadata.fullPath,e.displayImageUrl=i,n.collection("categories/".concat(e.category.id,"/items")).add(Object(w.a)(Object(w.a)({},e),{},{ownerFirstName:c.firstName,ownerLastName:c.lastName,ownerId:o,createdAt:new Date})).then((function(){dispatchEvent({type:"ADD_NEW_PRODUCT",payload:e})})).catch((function(e){t({type:"ADD_NEW_PRODUCT_ERROR",payload:e})}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}(t))}}})),Object(h.firestoreConnect)((function(){return[{collection:"categories"}]})))(J),Z=(a(394),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(W.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){document.title="Login";var e=this.props,t=e.authError;return e.uid?n.a.createElement(c.a,{to:"/"}):n.a.createElement("section",{className:"login-page"},n.a.createElement("div",{className:"login-page__form-wrapper"},n.a.createElement("form",{className:"login-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Login"),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Login"),n.a.createElement("span",null,t?n.a.createElement("h1",{className:"alert"},t.message):null))),n.a.createElement("div",{className:"login-page__image home-page-background"}),">")}}]),a}(r.Component)),$=Object(l.b)((function(e){return{authError:e.auth.authError,uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_FAILURE",payload:t})}))}));var a}}}))(Z),X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.onLogout(),window.location="/"}},{key:"render",value:function(){return null}}]),a}(r.Component),ee=Object(l.b)(null,(function(e){return{onLogout:function(){e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))(X),te=(a(395),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(W.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){document.title="Register";var e=this.props,t=e.uid,a=e.authError;return t?n.a.createElement(c.a,{to:"/"}):n.a.createElement("section",{className:"register-page"},n.a.createElement("div",{className:"register-page__form-wrapper"},n.a.createElement("form",{className:"register-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Register"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{onChange:this.handleChange,type:"firstName",id:"firstName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{onChange:this.handleChange,type:"lastName",id:"lastName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Register"),a&&n.a.createElement("p",{className:"alert"},a.message))),n.a.createElement("div",{className:"register-page__image home-page-background"}))}}]),a}(r.Component)),ae=Object(l.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth,uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,c=r.getFirestore,o=n(),i=c();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],savedProducts:{}})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",payload:e})}))}}(t))}}}))(te),re=function(e){e.path;var t=e.component,a=e.render,r=Object(Y.a)(e,["path","component","render"]),o=Object(l.c)((function(e){return e.firebase.auth}));return n.a.createElement(c.b,Object.assign({},r,{render:function(e){return o.uid?t?n.a.createElement(t,e):a(e):n.a.createElement(c.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ne=(a(396),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.title="Your account",this.props.getUserItems()}},{key:"render",value:function(){var e=this,t=this.props,a=t.userItems,r=t.handleRemoveItem;return n.a.createElement("section",{className:"user-profile home-page-background"},n.a.createElement("ul",{className:"user-profile__items"},a.items&&a.items.map((function(t){return n.a.createElement("li",{className:"user-profile__items-item",key:t.id},e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"),n.a.createElement("button",{className:"user-profile__items-item-button",onClick:function(){r(t)}},"Remove"))}))))}}]),a}(v)),ce=Object(l.b)((function(e){return{userItems:e.userInfo}}),(function(e){return{getUserItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_PROFILE_INFO_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collectionGroup("items").where("ownerId","==",c).onSnapshot((function(t){var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e({type:"FETCH_PROFILE_INFO_SUCCESS",payload:a})}))}))},handleRemoveItem:function(t){return e(O(t))}}}))(ne),oe=(a(397),a(398),Object(c.g)((function(e){return n.a.createElement("div",{className:"page-container"},n.a.createElement("header",{className:"header"},n.a.createElement(s,{history:e})),n.a.createElement("main",null,n.a.createElement(c.d,null,n.a.createElement(c.b,{path:"/login",exact:!0,component:$}),n.a.createElement(c.b,{path:"/register",exact:!0,component:ae}),n.a.createElement(re,{path:"/logout",exact:!0,component:ee}),n.a.createElement(re,{path:"/profile",exact:!0,component:ce}),n.a.createElement(re,{path:"/item-configuration",component:z}),n.a.createElement(re,{path:"/saved-products",exact:!0,component:I}),n.a.createElement(c.b,{path:"/search/:name",component:T}),n.a.createElement(c.b,{path:"/:categoryName/:categoryId/:productId",component:S}),n.a.createElement(c.b,{path:"/:categoryName/:categoryId",component:_}),n.a.createElement(c.b,{path:"/",exact:!0,component:E}),n.a.createElement(c.b,{path:"/404",component:C}),n.a.createElement(c.a,{to:"/404"})),n.a.createElement("footer",null,"\xa9 Copyright 2020")))}))),ie=a(34),le=a.n(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(218),ue=a(219),me=a(52),de=a(220),pe={err:"",loading:!1};var he={searchedString:"",submittedSearchString:"",items:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.searchedString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_UPDATE_SEARCH_STRING":return he.searchedString=t.payload;default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.submittedSearchString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_SUBMIT_SEARCH":return he.submittedSearchString=t.payload;default:return e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.items,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_LOAD_SEARCHED_ITEMS":return he.items=t.payload;default:return e}};var fe={authError:""},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{authError:t.payload});case"LOGIN_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{authError:""});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{authError:""});case"SIGNUP_ERROR":return Object(w.a)(Object(w.a)({},e),{},{authError:t.payload});default:return e}},ye={product:{},error:""},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_PRODUCT":return Object(w.a)(Object(w.a)({},e),{},{error:""});case"ADD_NEW_PRODUCT_ERROR":return Object(w.a)(Object(w.a)({},e),{},{error:t.payload});default:return e}},Ce={err:"",loading:!1,items:[]};var we={err:"",loading:!1,items:[]};var Oe=Object(f.combineReducers)({saveProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVE_ITEM_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"FETCH_SAVE_ITEM_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{loading:!1});case"FETCH_SAVE_ITEM_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,err:t.payload});default:return e}},auth:ve,search:function(){var e=arguments.length>1?arguments[1]:void 0;return{searchedString:ge(he.searchedString,e),items:Ee(he.items,e),submittedSearchString:be(he.submittedSearchString,e)}},firestore:me.firestoreReducer,firebase:h.firebaseReducer,addNewProductReducer:_e,savedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVED_ITEMS_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"FETCH_SAVED_ITEMS_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,items:t.payload});case"FETCH_SAVED_ITEMS_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,err:t.payload});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_INFO_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"FETCH_PROFILE_INFO_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,items:t.payload});case"FETCH_PROFILE_INFO_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,err:t.payload});default:return e}}}),Ne=(a(431),[se.a.withExtraArgument({getFirebase:h.getFirebase,getFirestore:me.getFirestore})]),Se=Object(f.createStore)(Oe,Object(ue.composeWithDevTools)(f.applyMiddleware.apply(void 0,Ne),Object(me.reduxFirestore)(H))),je={firebase:H,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Se.dispatch,createFirestoreInstance:me.createFirestoreInstance};function Ie(e){var t=e.children,a=Object(l.c)((function(e){return e.firebase.auth}));return Object(h.isLoaded)(a)?t:null}le.a.render(n.a.createElement(l.a,{store:Se},n.a.createElement(h.ReactReduxFirebaseProvider,je,n.a.createElement(Ie,null,n.a.createElement(i.a,{basename:"/equipment-rent/"},n.a.createElement(de.a,null),n.a.createElement(oe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[222,1,2]]]);
//# sourceMappingURL=main.75e45e3a.chunk.js.map