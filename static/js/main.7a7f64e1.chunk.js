(this["webpackJsonpequipment-rent"]=this["webpackJsonpequipment-rent"]||[]).push([[0],{217:function(e){e.exports=JSON.parse('[{"name":"Camera 1","id":"1","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 2","id":"2","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 3","id":"3","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 4","id":"4","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 5","id":"5","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 6","id":"6","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Camera 7","id":"7","category":"cameras","price":"99","description":"OMG This just came out today!","image":"http://placehold.it/940x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 1","id":"8","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 2","id":"9","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 3","id":"10","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 4","id":"11","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Microphone 5","id":"12","category":"microphones","price":"99","description":"This is the latest and greatest product from Derp corp.","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 2","id":"13","category":"lights","price":"99","offer":"BOGOF","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 3","id":"14","category":"microphones","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Product 4","id":"15","category":"cameras","price":"99","offer":"No srsly GTFO","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 5","id":"16","category":"lights","price":"99","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"},{"name":"Light 6","id":"17","category":"lights","price":"99","description":"This is the latest and greatest product from Derp corp.","offer":"description with offer","image":"http://placehold.it/300x300/999/CCC","youtubeLink":"https://www.youtube.com/embed/watch?v=b5CwaKY_WEA"}]')},222:function(e,t,a){e.exports=a(429)},231:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},391:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(221),o=a(12),i=a(5),s=(a(231),function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),s=a[0],l=a[1],u=Object(i.c)((function(e){return e.firebase.auth.uid})),m=Object(i.c)((function(e){return e.firebase.profile})),d=function(){l(!s)},p=function(e){return s?"".concat(e," open"):"".concat(e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onClick:d,className:"navbar-btn"},n.a.createElement("span",{className:p("navbar-btn__burger")})),n.a.createElement("nav",{className:p("navbar")},n.a.createElement("ul",{onClick:d,className:p("navbar__links")},n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",exact:!0,to:"/"},"Home")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/saved-products"},"Bookmarked items")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/item-configuration"},"Add new item")),u?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/logout"},"Logout")),m.initials?n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/profile"},m.initials)):null):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/login"},"Login")),n.a.createElement("li",{className:p("navbar__links-link")},n.a.createElement(o.c,{activeClassName:"activeNavLink",to:"/register"},"Register"))))))}),l=a(35),u=a(6),m=a(11),d=a(8),p=a(7),h=a(9),b=a(19),g=(a(380),function(){Object(b.useFirestoreConnect)("categories");var e=Object(i.c)((function(e){return e.firestore}));return n.a.createElement("section",{className:"catalogue-wrapper"},e.status.requesting.categories?n.a.createElement("h2",{className:"spinner"},"Loading"):e.errors.byQuery.length>0?n.a.createElement("h2",{className:"error"},e.error):n.a.createElement("div",{className:"catalogue"},n.a.createElement("ol",{className:"catalogue__elements"},e.ordered.categories&&e.ordered.categories.map((function(e){return n.a.createElement("li",{className:"catalogue__elements-element",key:e.id},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement(o.b,{to:"/".concat(e.categoryName.toLowerCase(),"/").concat(e.id)},n.a.createElement("div",{className:"catalogue__elements-element-image ".concat(e.categoryName)},n.a.createElement("h1",{className:"catalogue__elements-element-text"},e.categoryName.toUpperCase()))))})))))}),E=(a(381),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return document.title="Home",n.a.createElement("div",{className:"home-page"},n.a.createElement(g,null))}}]),t}(r.Component)),f=a(18),v=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).renderCard=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0;return n.a.createElement(o.b,{to:"/".concat(t,"/").concat(a,"/").concat(e.id),className:"".concat(c)},r?n.a.createElement("img",{src:"",alt:"Something cool"}):null,n.a.createElement("div",null,n.a.createElement("h3",null,e.name),n.a.createElement("p",null,e.description)))},a}return Object(h.a)(t,e),t}(r.Component),y=(a(382),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;document.title="List of products";var t=this.props,a=t.productsList,r=t.match;return n.a.createElement("section",{className:"product-list ".concat(r.params.categoryName)},n.a.createElement("ul",{className:"product-list__items"},a&&a.map((function(t){return n.a.createElement("li",{className:"product-list__items-item",key:t.id},e.renderCard(t,r.params.categoryName,r.params.categoryId,!0,"product-card"))}))))}}]),t}(v)),_=Object(f.compose)(Object(b.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items")}]})),Object(i.b)((function(e,t){return{productsList:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")]}})))(y),C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return document.title="Error",n.a.createElement("h1",null,"Error 404")}}]),t}(r.Component),O=a(4),w=function(e){return function(t,a,r){r.getFirebase;(0,r.getFirestore)().collection("categories/".concat(e.category.id,"/items")).doc("".concat(e.id)).delete().then((function(){})).catch((function(e){}))}},N=(a(383),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){document.title="Product page";var e=this.props,t=e.product,a=e.match,r=e.handleSave,c=e.uid,i=e.handleRemoveItem,s=t?t.find((function(e){return e.id===a.params.productId})):null;return n.a.createElement("section",{className:"product-page"},s&&n.a.createElement("div",{className:"product-page__wrapper"},n.a.createElement("div",{className:"product-page__image"},"Cool image"),n.a.createElement("div",{className:"product-page__info"},n.a.createElement("h1",{className:"product-page__info-name"},s.name),c===s.ownerId?n.a.createElement("div",{className:"product-page__owner-options"},n.a.createElement(o.b,{className:"product-page__link",to:"/item-configuration"},n.a.createElement("button",{className:"product-page__button",disabled:!0},"Edit")),n.a.createElement(o.b,{className:"product-page__link",to:"/"},n.a.createElement("button",{className:"product-page__button",onClick:function(){i(s)}},"Remove this product"))):null,n.a.createElement("h3",{className:"product-page__info-price"},s.price,"$"),n.a.createElement("p",{className:"product-page__info-description"},s.description),n.a.createElement("div",{className:"product-page__owner"},n.a.createElement("h3",{className:"product-page__owner-name"},"Owner: ",s.ownerFirstName," ",s.ownerLastName),n.a.createElement("h3",{className:"product-page__owner-email"},"Email: ",s.ownerEmailAddress),n.a.createElement("h3",{className:"product-page__owner-number"},"Phone Number: ",s.ownerPhoneNumber)),n.a.createElement("button",{onClick:function(){return r(s)},className:"product-page__button"},"Bookmark this product"))))}}]),t}(r.Component)),S=Object(f.compose)(Object(b.firestoreConnect)((function(e){return[{collection:"categories/".concat(e.match.params.categoryId,"/items")}]})),Object(i.b)((function(e,t){return{product:e.firestore.ordered["categories/".concat(t.match.params.categoryId,"/items")],uid:e.firebase.auth.uid}}),(function(e){return{handleSave:function(t){var a;e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_SAVE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a.id).set(Object(O.a)({},a,{createdAt:new Date})).then((function(){e({type:"FETCH_SAVE_ITEM_SUCCESS"})})).catch((function(t){return e(function(e){return{type:"FETCH_SAVE_ITEM_FAILURE",payload:e}}(t))}))}))},handleRemoveItem:function(t){return e(w(t))}}})))(N),j=(a(384),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Bookmarked items",this.props.onLoadSavedItems()}},{key:"render",value:function(){var e=this,t=this.props.savedItems;return n.a.createElement("section",{className:"shopping-cart"},n.a.createElement("ul",{className:"shopping-cart__items"},t.items.length&&t.items.map((function(t){return n.a.createElement("li",{key:t.id,className:"shopping-cart__items-item"},n.a.createElement("button",{className:"shopping-cart__items-item-delete-button",onClick:function(){return e.props.onDeleteItem(t.id)}},"Delete"),e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"))}))))}}]),t}(v)),I=Object(i.b)((function(e,t){return{savedItems:e.savedItems}}),(function(e){return{onLoadSavedItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))},onDeleteItem:function(t){return e((a=t,function(e,t,r){r.getFirebase;var n,c=r.getFirestore;e({type:"FETCH_DELETE_ITEM_REQUEST",payload:n});var o=c(),i=t().firebase.auth.uid;o.collection("users/".concat(i,"/savedProducts")).doc(a).delete().then((function(){e({type:"FETCH_DELETE_ITEM_SUCCESS"}),e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_SAVED_ITEMS_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collection("users/".concat(c,"/savedProducts")).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e(function(e){return{type:"FETCH_SAVED_ITEMS_SUCCESS",payload:e}}(a))})).catch((function(t){return e(function(e){return{type:"FETCH_SAVED_ITEMS_FAILURE",payload:e}}(t))}))}))})).catch((function(t){e(function(e){return{type:"FETCH_DELETE_ITEM_FAILURE",payload:e}}(t))}))}));var a}}}))(j),k=a(217),F=(a(385),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.prevSearch=this.props.submittedSearchString;var t=k.filter((function(t){return t.name.toUpperCase().indexOf((e.props.submittedSearchString||e.props.location.pathname.split("/").pop()).toUpperCase())>-1}));this.props.getSearchedProducts(t)}},{key:"componentDidUpdate",value:function(){this.prevSearch!==this.props.submittedSearchString&&this.componentDidMount()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"search-page"},0===this.props.items.length?n.a.createElement("h1",{className:"search-page__no-items-error"},"'",this.props.submittedSearchString,"' doesn't exist here. I'm sorry..."):this.props.items.map((function(t){return n.a.createElement("div",{key:t.key,className:"item-card"},e.renderCard(t,!0,!0,"search-page__element"))})))}}]),t}(v)),T=Object(i.b)((function(e){return e.search}),(function(e){return{getSearchedProducts:function(t){e({type:"ON_LOAD_SEARCHED_ITEMS",payload:t})}}}))(F),L=a(23),A=a.n(L),R=a(31),D=a(34),U=function(e){var t=e.name,a=e.label,r=e.error,c=Object(D.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("input",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},P=function(e){var t=e.name,a=e.label,r=e.options,c=e.error,o=Object(D.a)(e,["name","label","options","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("select",Object.assign({name:t,id:t},o,{className:"form-control"}),n.a.createElement("option",{value:""}),r.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.categoryName)}))),c&&n.a.createElement("div",{className:"alert alert-danger"},c))},x=function(e){var t=e.name,a=e.label,r=e.error,c=Object(D.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("textarea",Object.assign({},c,{name:t,id:t,className:"form-control"})),r&&n.a.createElement("div",{className:"alert alert-danger"},r))},M=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={data:{},errors:{}},a.validate=function(){var e=A.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},r=!0,n=!1,c=void 0;try{for(var o,i=e.details[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;t[s.path[0]]=s.message}}catch(l){n=!0,c=l}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return t},a.validateProperty=function(e){var t=e.name,r=e.value,n=Object(R.a)({},t,r),c=Object(R.a)({},t,a.schema[t]),o=A.a.validate(n,c).error;return o?o.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.onSubmit()},a.handleChange=function(e){var t=e.currentTarget,r=Object(O.a)({},a.state.errors),n=a.validateProperty(t);n?r[t.name]=n:delete r[t.name];var c=Object(O.a)({},a.state.data);c[t.name]=t.value,a.setState({data:c,errors:r})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderButton",value:function(e,t){return n.a.createElement("button",{disabled:this.validate(),className:t},this.validate()?"Please, add more info":"".concat(e))}},{key:"renderSelect",value:function(e,t,a){var r=this.state,c=r.data,o=r.errors;return n.a.createElement(P,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:o[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,c=r.data,o=r.errors;return n.a.createElement(U,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}},{key:"renderTextarea",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,c=r.data,o=r.errors;return n.a.createElement(x,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}}]),t}(r.Component),H=(a(386),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={data:{name:"",category:{},price:"",ownerPhoneNumber:"",ownerEmailAddress:"",description:"",youtubeLink:""},buttonInfo:{class:"btn btn-primary",text:"Save"},errors:{}},a.schema={name:A.a.string().required().label("Name"),category:A.a.string().required().label("Category"),price:A.a.number().required().label("Price"),description:A.a.label("Description"),id:A.a.label("Id"),youtubeLink:A.a.string().label("Youtube Link"),ownerPhoneNumber:A.a.number().required().label("Phone number"),ownerEmailAddress:A.a.string().email().required().label("Email address")},a.onSubmit=function(){var e=Object(O.a)({},a.state.data),t=a.state.data.category,r=a.props.categories.find((function(e){return t===e.id}));e.category=r,a.setState({data:e},(function(){a.props.handleAddNewItem(a.state.data),a.props.history.push("/")}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){document.title="Item configuration";var e=this.props.categories;return e?n.a.createElement("section",{className:"item-config-page"},n.a.createElement("div",{className:"item-config-page__form-wrapper"},n.a.createElement("form",{className:"item-config-page__form",onSubmit:this.handleSubmit},this.renderInput("name","Name"),this.renderInput("price","Price"),this.renderSelect("category","Category",e),this.renderInput("ownerPhoneNumber","Phone number"),this.renderInput("ownerEmailAddress","Email address"),this.renderInput("youtubeLink","Youtube Link"),this.renderTextarea("description","Description"),this.renderButton(this.state.buttonInfo.text,this.state.buttonInfo.class)))):n.a.createElement("h1",null,"LOADING")}}]),t}(M)),W=Object(f.compose)(Object(i.b)((function(e){return{categories:e.firestore.ordered.categories}}),(function(e){return{handleAddNewItem:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),c=a().firebase.profile,o=a().firebase.auth.uid;n.collection("categories/".concat(e.category.id,"/items")).add(Object(O.a)({},e,{ownerFirstName:c.firstName,ownerLastName:c.lastName,ownerId:o,createdAt:new Date})).then((function(){dispatchEvent({type:"ADD_NEW_PRODUCT",payload:e})})).catch((function(e){t({type:"ADD_NEW_PRODUCT_ERROR",payload:e})}))}}(t))}}})),Object(b.firestoreConnect)((function(){return[{collection:"categories"}]})))(H),G=(a(387),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){document.title="Login";var e=this.props,t=e.authError;return e.uid?n.a.createElement(l.a,{to:"/"}):n.a.createElement("section",{className:"login-page"},n.a.createElement("div",{className:"login-page__form-wrapper"},n.a.createElement("form",{className:"login-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Login"),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",{className:"login-page__form-wrapper-form-login"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Login"),n.a.createElement("h3",null,t?n.a.createElement("h1",{className:"alert"},t.message):null))),n.a.createElement("div",{className:"login-page__image"}),">")}}]),t}(r.Component)),Y=Object(i.b)((function(e){return{authError:e.auth.authError,uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_FAILURE",payload:t})}))}));var a}}}))(G),K=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(r.Component),V=Object(i.b)(null,(function(e){return{onLogout:function(){e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))(K),q=function(e){e.path;var t=e.component,a=e.render,r=Object(D.a)(e,["path","component","render"]),c=Object(i.c)((function(e){return e.firebase.auth}));return n.a.createElement(l.b,Object.assign({},r,{render:function(e){return c.uid?t?n.a.createElement(t,e):a(e):n.a.createElement(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},B=(a(388),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){document.title="Register";var e=this.props,t=e.uid,a=e.authError;return t?n.a.createElement(l.a,{to:"/"}):n.a.createElement("section",{className:"register-page"},n.a.createElement("div",{className:"register-page__form-wrapper"},n.a.createElement("form",{className:"register-page__form-wrapper-form",onSubmit:this.handleSubmit},n.a.createElement("h2",null,"Register"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{onChange:this.handleChange,type:"firstName",id:"firstName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{onChange:this.handleChange,type:"lastName",id:"lastName"})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password"})),n.a.createElement("button",null,"Register"),a&&n.a.createElement("p",{className:"alert"},a.message))),n.a.createElement("div",{className:"register-page__image"}))}}]),t}(r.Component)),Q=Object(i.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth,uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,c=r.getFirestore,o=n(),i=c();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],savedProducts:{}})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",payload:e})}))}}(t))}}}))(B),J=(a(389),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Your account",this.props.getUserItems()}},{key:"render",value:function(){var e=this,t=this.props,a=t.userItems,r=t.handleRemoveItem;return n.a.createElement("section",{className:"user-profile"},n.a.createElement("ul",{className:"user-profile__items"},a.items&&a.items.map((function(t){return n.a.createElement("li",{className:"user-profile__items-item",key:t.id},e.renderCard(t,t.category.categoryName,t.category.id,!0,"product-card"),n.a.createElement("button",{className:"user-profile__items-item-button",onClick:function(){r(t)}},"Remove this product"))}))))}}]),t}(v)),z=Object(i.b)((function(e){return{userItems:e.userInfo}}),(function(e){return{getUserItems:function(){return e((function(e,t,a){a.getFirebase;var r=a.getFirestore;e({type:"FETCH_PROFILE_INFO_REQUEST"});var n=r(),c=t().firebase.auth.uid;n.collectionGroup("items").where("ownerId","==",c).onSnapshot((function(t){var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e({type:"FETCH_PROFILE_INFO_SUCCESS",payload:a})}))}))},handleRemoveItem:function(t){return e(w(t))}}}))(J),Z=(a(390),a(391),Object(l.g)((function(e){return n.a.createElement("div",{className:"page-container"},n.a.createElement("header",{className:"header"},n.a.createElement(s,{history:e})),n.a.createElement("main",null,n.a.createElement(l.d,null,n.a.createElement(l.b,{path:"/login",exact:!0,component:Y}),n.a.createElement(l.b,{path:"/register",exact:!0,component:Q}),n.a.createElement(q,{path:"/logout",exact:!0,component:V}),n.a.createElement(q,{path:"/profile",exact:!0,component:z}),n.a.createElement(q,{path:"/item-configuration",component:W}),n.a.createElement(q,{path:"/saved-products",exact:!0,component:I}),n.a.createElement(l.b,{path:"/search/:name",component:T}),n.a.createElement(l.b,{path:"/:categoryName/:categoryId/:productId",component:S}),n.a.createElement(l.b,{path:"/:categoryName/:categoryId",component:_}),n.a.createElement(l.b,{path:"/",exact:!0,component:E}),n.a.createElement(l.b,{path:"/404",component:C}),n.a.createElement(l.a,{to:"/404"})),n.a.createElement("footer",null,"\xa9 Copyright 2020")))}))),$=a(33),X=a.n($);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(218),te=a(219),ae=a(53),re=a(141),ne=a.n(re);a(423),a(426);ne.a.initializeApp({apiKey:"AIzaSyC-IaPCfvhov6-VPZhMxZJNBexahlnHCsA",authDomain:"equipment-rental-71653.firebaseapp.com",databaseURL:"https://equipment-rental-71653.firebaseio.com",projectId:"equipment-rental-71653",storageBucket:"equipment-rental-71653.appspot.com",messagingSenderId:"983654536579",appId:"1:983654536579:web:f6858ededf6c4d4efd12b6"});var ce=ne.a,oe=a(220),ie={err:"",loading:!1};var se={searchedString:"",submittedSearchString:"",items:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se.searchedString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_UPDATE_SEARCH_STRING":return se.searchedString=t.payload;default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se.submittedSearchString,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_SUBMIT_SEARCH":return se.submittedSearchString=t.payload;default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se.items,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_LOAD_SEARCHED_ITEMS":return se.items=t.payload;default:return e}};var de={authError:""},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILURE":return Object(O.a)({},e,{authError:t.payload});case"LOGIN_SUCCESS":return Object(O.a)({},e,{authError:""});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(O.a)({},e,{authError:""});case"SIGNUP_ERROR":return Object(O.a)({},e,{authError:t.payload});default:return e}},he={product:{},error:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_PRODUCT":return Object(O.a)({},e,{error:""});case"ADD_NEW_PRODUCT_ERROR":return Object(O.a)({},e,{error:t.payload});default:return e}},ge={err:"",loading:!1,items:[]};var Ee={err:"",loading:!1,items:[]};var fe=Object(f.combineReducers)({saveProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVE_ITEM_REQUEST":return Object(O.a)({},e,{loading:!0});case"FETCH_SAVE_ITEM_SUCCESS":return Object(O.a)({},e,{loading:!1});case"FETCH_SAVE_ITEM_FAILURE":return Object(O.a)({},e,{loading:!1,err:t.payload});default:return e}},auth:pe,search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return{searchedString:le(se.searchedString,e),items:me(se.items,e),submittedSearchString:ue(se.submittedSearchString,e)}},firestore:ae.firestoreReducer,firebase:b.firebaseReducer,addNewProductReducer:be,savedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVED_ITEMS_REQUEST":return Object(O.a)({},e,{loading:!0});case"FETCH_SAVED_ITEMS_SUCCESS":return Object(O.a)({},e,{loading:!1,items:t.payload});case"FETCH_SAVED_ITEMS_FAILURE":return Object(O.a)({},e,{loading:!1,err:t.payload});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_INFO_REQUEST":return Object(O.a)({},e,{loading:!0});case"FETCH_PROFILE_INFO_SUCCESS":return Object(O.a)({},e,{loading:!1,items:t.payload});case"FETCH_PROFILE_INFO_FAILURE":return Object(O.a)({},e,{loading:!1,err:t.payload});default:return e}}}),ve=(a(428),[te.a.withExtraArgument({getFirebase:b.getFirebase,getFirestore:ae.getFirestore})]),ye=Object(f.createStore)(fe,Object(ee.composeWithDevTools)(f.applyMiddleware.apply(void 0,ve),Object(ae.reduxFirestore)(ce))),_e={firebase:ce,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:ye.dispatch,createFirestoreInstance:ae.createFirestoreInstance};X.a.render(n.a.createElement(i.a,{store:ye},n.a.createElement(b.ReactReduxFirebaseProvider,_e,n.a.createElement((function(e){var t=e.children,a=Object(i.c)((function(e){return e.firebase.auth}));return Object(b.isLoaded)(a)?t:null}),null,n.a.createElement(o.a,{basename:"/equipment-rent/"},n.a.createElement(oe.a,null),n.a.createElement(Z,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[222,1,2]]]);
//# sourceMappingURL=main.7a7f64e1.chunk.js.map